<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Interactive Animation</title>-->
<!--</head>-->
<!--<body>-->

<!--<h1>Interactive animation</h1>-->

<!--<iframe src="https://prime-applets.ewi.tudelft.nl/prime-interactive-videos/#/part1" title="Part 1" width="100%" height="100%">-->
<!--</iframe>-->

<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Interactive Animation PRIME</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/bootstrap.css" rel="stylesheet" />
    <link href="css/styles.css" rel="stylesheet" />
</head>
<body id="page-top">
<!-- Navigation-->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
    <div class="container px-4">
        <!--        <a class="navbar-brand" href="#page-top">PRIME presents: Interactive animation</a>-->
        <a class="navbar-brand" href="../siggraph_web3d/index.html">PRIME presents: Interactive animation</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
                <li class="nav-item"><a class="nav-link" href="#technical">Technical</a></li>
                <li class="nav-item"><a class="nav-link" href="#timelines">Timelines</a></li>
                <li class="nav-item"><a class="nav-link" href="#usage">Usage</a></li>
                <li class="nav-item"><a class="nav-link" href="#results">Results</a></li>
                <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
            </ul>
        </div>
    </div>
</nav>
<!-- Header-->
<header class="bg-black text-white">
    <div  id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active" style="background-image: url('assets/gifs/screengrab3_fullscreen2.gif')">
                <div class="container px-4 text-center" >
                </div>
                <div class="carousel-caption">
                    <div style="display: inline-block; background: rgba(0, 0, 0, 0.5);">
                        <h1 class="fw-bolder">Interactive Animation</h1>
                        <p>A visualisation of directional derivatives & level curves.</p>
                        <a class="btn btn-lg btn-white" href="#part1">Jump to visualisations!</a>
                        <br>
                    </div>
                </div>
            </div>
            <div class="carousel-item" style="background-image: url('assets/gifs/screengrab3_fullscreen1.gif')">
                <div class="container px-4 text-center" >
                </div>
                <div class="carousel-caption">
                    <div style="display: inline-block; background: rgba(0, 0, 0, 0.5);">
                        <h1 class="fw-bolder">Interactive Animation</h1>
                        <p>A visualisation of directional derivatives & level curves.</p>
                        <a class="btn btn-lg btn-white" href="#part1">Jump to visualisations!</a>
                        <br>
                    </div>
                </div>
            </div>
            <div class="carousel-item" style="background-image: url('assets/gifs/screengrab3_fullscreen0.gif')">
                <div class="carousel-caption">
                    <div style="display: inline-block; background: rgba(0, 0, 0, 0.5);">
                        <h1 class="fw-bolder">Interactive Animation</h1>
                        <p>A visualisation of directional derivatives & level curves.</p>
                        <a class="btn btn-lg btn-white" href="#part1">Jump to visualisations!</a>
                        <br>
                    </div>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
</header>
<!-- About section-->
<section class="bg-lightgrey" id="about">
    <div class="container px-4">
        <div class="row gx-4 justify-content-center">
            <div class="col-lg-8">
                <h2>Introduction</h2>
                <p class="lead">We present our short series of interactive animations on directional derivatives and level curves.</p>
                <p> This visualisation was developed for students of first-year mathematics courses at the Delft University of Technology. The interactive animation is an animated video that can be interacted with while it is paused or playing. This allows for visualising complex topics in class that cannot be easily sketched or drawn in a dynamic and interactive manner. At home, students can discover and re-watch with the voice over explanation: the interactive animation is also embedded in online homework exercises.
                    <br>
                    The interactive animation includes, amongst others, the following features:</p>
                <ul>
                    <li> Change the function that is plotted while the animation is paused or played</li>
                    <li> Change points of interest and toggle visibility of elements </li>
                    <li> Explore the scene while the explanation continues </li>
                </ul>
                We strongly recommend exploring the full interactive experience yourself, the short series can be explored <a href="#part1">below</a>!
            </div>
        </div>
    </div>
</section>
<!--Technical solution-->
<section class="bg-lightblue" id="technical">
    <div class="container px-4">
        <div class="row gx-4 justify-content-center">
            <div class="col-lg-8">
                <h2>Technical solution</h2>
                <p> Our web-based application combines React, ThreeJS and GSAP. The interactive animations use GSAP Timelines and Tweens for the animations. Our approach to rendering is fairly straightforward, we use ThreeJS for WebGL and canvas for 2D rendering and GSAP for tweening. The novelty of our approach is in the use of React and GSAP timelines and tweens by using two state objects, which we describe in <a href="#timelines">Timelines & State</a>. </p>

                <p>Further technical documentation will be released, access can be requested already. We are happy to share our work and enable others to work on more interactive animations. </p>
            </div>
        </div>
    </div>
</section>
<section class="bg-lightgrey" id="timelines">
    <div class="container px-4">
        <div class="row gx-4 justify-content-center">
            <div class="col-lg-8">
                <h2>Timelines & State </h2>
                <p> While there is <a href="https://greensock.com/react/" target="_blank" rel="noopener noreferrer">some documentation</a> on using React with GSAP, the approach used in this project differs in some specific ways to make the Timelines and Tweens as simple as possible, in particular the way state is handled.</p>

                <p class="lead">Animation components with Timelines</p>
                <p>We made animation components, in which we set up a main GSAP timeline. Each section in the animation has its own sub-timeline, these are all children of the main timeline. In the animation component constructor, we create an object that stores the sub-timeline states. These states will contain the start state the animation ought to be when a sub-timeline begins.</p>

                <p class="lead">Adding sub-timelines</p>
                <p>The sub-timelines (all subsections of the animation) are added to the main timeline after mounting the animation component: the constructor is that GSAP is not able to create Tweens for some targets if they are not rendered yet. This happens for example when tweening React refs. Ensuring that the animation component has mounted, also ensures that all Tween targets are available when GSAP tries to access them.</p>

                <p class="lead">Start & State</p>
                <p>Each sub-timeline has a set duration, a position on the main timeline and a label. Within each sub-timeline component, we set labels for the state in which they ought to start playing; their start-state. Adding these labels to the main timeline allows the user to skip through the timeline freely. The timeline and their respective states are passed to the component that handles user input and keeps the timeline and audio synchronized. When the user skips to a particular timestamp in the animation, this input component fetches the start-state corresponding to the label associated with the timestamp and sets the start-state. This ensures that the animation component is in the expected state at the start of each child timeline.</p>

                <p class="lead">Tweens & State</p>
                <p>Each sub-timeline has one or more GSAP Tweens added to it, as well as a start-state. The start-state is set at the start of a tween. GSAP modifies the target object of a tween directly, which is not allowed for React state, as this will not update the component. To circumvent this, we have introduced a second state for the tween targets, which we call animation-state. The object animation-state is used as tween target and contains the same values as the component state, but since it is not the actual state of the component, we can let GSAP directly modify animation-state. Each update to the animation-state is then propagated to the components state, each time the tween is updated.</p>
            </div>
        </div>
    </div>
</section>

<!-- Usage section-->
<section class="bg-lightblue" id="usage">
    <div class="container px-4">
        <div class="row gx-4 justify-content-center">
            <div class="col-lg-8">
                <h2>Usage</h2>
                <p> The interactive animation series has been used in one pilot course of about 500 students: WI1402LR Calculus II, aimed towards first-year Nanobiology and Aerospace Engineering students at Delft University of Technology. Lecturers used the interactive animations, usually while on 'pause', to explain and illustrate their lecture. Students then explored the interactive animation afterwards at home to recap and expand their understanding of the lecture, and used the interactive animations to do their homework exercises: accompanying exercises have been made for students. The exercises will be made public on the Grasple platform. </p>
                <img src="assets/VC.PNG" style="width: 100%">
                Lecturers using the interactive animation in class.
            </div>
        </div>
    </div>
</section>
<!-- Part 1 -->
<section class="bg-lightgrey" id="results">
    <div class="container px-4">
        <div class="row gx-4 justify-content-center">
            <div class="col-lg-8">
                <h2>Results</h2>
                <p>Our result is a short series of 4 parts. All 4 parts can be watched and interacted with below. Press play to start and try interactions in the screen: change the function that is plotted, drag the 3D plot to adjust your view and explore it or use the controls menu!</p>
                <br>
                <h3>Part 1: Level curves</h3>
                <p>This first part introduces the concept of level curves. It features, amongst others, the possibility to adjust and add level curves. </p>
                <iframe src="https://sranjha.github.io/prime-interactive-videos/#/part1?t=38s" title="Part 1" width="100%" height="500px" allowfullscreen></iframe>
            </div>
        </div>
    </div>
    <br><br>
    <div class="container px-4">
        <div class="row gx-4 justify-content-center">
            <div class="col-lg-8">
                <h3>Part 2: Directional derivatives</h3>
                <p>This second part introduces the concept of directional derivatives. It features, amongst others, the possibility to change many of the variables in the controls menu and to adjust the 3D and 2D views. </p>
<!--                <iframe src="https://sranjha.github.io/prime-interactive-videos/#/part2?t=16s" title="Part 2" width="100%" height="500px" allowfullscreen></iframe>-->
                <iframe src="https://sranjha.github.io/prime-interactive-videos/#/part2?t=42s" title="Part 2" width="100%" height="500px" allowfullscreen></iframe>
            </div>
        </div>
    </div>
    <br><br>
    <div class="container px-4">
        <div class="row gx-4 justify-content-center">
            <div class="col-lg-8">
                <h3>Part 3: Directional derivatives & Level curves</h3>
                <p>This third part explains the relationship between level curves and directional derivatives.</p>
<!--                <p class="lead"><iframe src="https://sranjha.github.io/prime-interactive-videos/#/part3?t=24s" title="Part 3" width="100%" height="500px" allowfullscreen></iframe></p>-->
                <p class="lead"><iframe src="https://sranjha.github.io/prime-interactive-videos/#/part3?t=3m" title="Part 3" width="100%" height="500px" allowfullscreen></iframe></p>
            </div>
        </div>
    </div>
    <br><br>
    <div class="container px-4">
        <div class="row gx-4 justify-content-center">
            <div class="col-lg-8">
                <h3>Part 4: Gradient & Level curves</h3>
                <p>This final bonus part explains the relationship between level curves and gradients.</p>
                <p class="lead"><iframe src="https://sranjha.github.io/prime-interactive-videos/#/part4?t=15s" title="Part 4" width="100%" height="500px" allowfullscreen></iframe></p>
            </div>
        </div>
    </div>
</section>
<!--Contact-->
<section id="contact" class="bg-lightblue">
    <div class="container px-4">
        <div class="row gx-4 justify-content-center">
            <div class="col-lg-8">
                <h2>Contact</h2>
                <p> This project was realised by the Visuals Team of TU Delft PRIME. <br>
                    Technical lead: Sayra Ranjha <br>
                    Concept & script: Fokko van de Bult, Dennis den Ouden-van der Horst <br>
                    Narrator: Beryl van Gelderen <br>
                    Documentation & storyboarding: Vera Hoveling <br>
                    Student Exercises: Christophe Smet <br>
                    Consultants: Marijn Roelvink and Ilse Bakker. <br><br>
                </p>
                <div align="center">
                    <p><a class="btn btn-lg btn-white" href="mailto: PRIME@tudelft.nl" target="_blank" rel="noopener noreferrer">Email us at PRIME@tudelft.nl</a> </p>
                    <p><a class="btn btn-lg btn-white" href="https://prime-applets.ewi.tudelft.nl/" target="_blank" rel="noopener noreferrer">Visit our portfolio</a> </p>
                    <p><a class="btn btn-lg btn-white" href="https://www.tudelft.nl/prime" target="_blank" rel="noopener noreferrer">Visit TU Delft PRIME website</a> </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Footer-->
<footer class="py-5 bg-dark">
    <div class="container px-4" align="center">
        <img src="assets/TU_P5_white.png" style="margin-top: 35px" height="80px" >
        <img src="assets/PRIME_logo_white.svg"  height="60px">
    </div>
</footer>
<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="js/scripts.js"></script>
</body>
</html>
